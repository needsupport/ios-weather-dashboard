# iOS Weather Dashboard Setup Guide\n\nThis guide will help you set up and run the iOS Weather Dashboard app on your local development environment.\n\n## Prerequisites\n\n- Xcode 14.0+ (15.0+ recommended)\n- iOS 15.0+ device or simulator (iOS 16.0+ for lock screen widgets)\n- Active Apple Developer account (optional, only needed for testing widgets on physical devices)\n- Node.js 16+ (for the backend proxy server)\n\n## Project Setup\n\n### Clone the Repositories\n\n1. Clone the iOS app repository:\n```bash\ngit clone https://github.com/needsupport/ios-weather-dashboard.git\ncd ios-weather-dashboard\n```\n\n2. Clone the backend proxy server repository:\n```bash\ngit clone https://github.com/needsupport/react-weather-dashboard.git\ncd react-weather-dashboard/server\n```\n\n### Set Up the Backend Proxy Server\n\n1. Install server dependencies:\n```bash\ncd react-weather-dashboard/server\nnpm install\n```\n\n2. Create a `.env` file in the server directory (optional):\n```\nPORT=3001\nWEATHER_API_TYPE=nws\nWEATHER_API_URL=https://api.weather.gov\n# OPENWEATHER_API_KEY=your_api_key_here  # Only needed if using OpenWeather\n```\n\n3. Start the server:\n```bash\nnpm start\n```\n\nThe server should now be running on http://localhost:3001.\n\n### Configure the iOS App\n\n1. Open the iOS project in Xcode:\n```bash\ncd ios-weather-dashboard\nopen WeatherApp.xcodeproj\n```\n\n2. Update API configuration (if needed):\n   - Open `WeatherApp/Services/WeatherAPIService.swift`\n   - Update the `baseURL` property to match your backend server URL\n\n## Running the App\n\n1. Select a simulator or connected device in Xcode\n2. Click the Run button (▶️) or press `Cmd+R`\n3. The app should build and launch\n\n## Testing\n\n### Running Unit Tests\n\n1. In Xcode, press `Cmd+U` to run all tests\n2. Alternatively, click the Test Navigator in the navigator panel and run specific tests\n\n### Widget Testing\n\nTo test widgets on the simulator:\n\n1. Run the app in the simulator\n2. Press the Home button (or swipe up from the bottom on newer simulators)\n3. Long press on the home screen to enter jiggle mode\n4. Tap the \"+\" button to add a widget\n5. Scroll and select \"Weather\"\n6. Choose a widget size and tap \"Add Widget\"\n\nFor lock screen widgets (iOS 16+):\n\n1. While in the simulator, long press on the lock screen\n2. Tap \"Customize\"\n3. Tap on an area where you can add widgets\n4. Find and add the Weather widget\n\n## Common Issues and Solutions\n\n### Network Connection Issues\n\nIf the app fails to fetch weather data:\n\n1. Ensure the backend server is running\n2. Check that the `baseURL` in `WeatherAPIService.swift` matches your server URL\n3. Verify network permissions in the app's Info.plist\n4. Try using iOS simulator's \"Reset Network Settings\" option\n\n### Location Services\n\nIf location detection isn't working:\n\n1. Check that location permissions are properly requested in the app\n2. In the simulator, use \"Features > Location\" to set a custom location\n3. Verify that the `NSLocationWhenInUseUsageDescription` key is properly set in Info.plist\n\n### Widget Issues\n\nIf widgets aren't appearing or updating:\n\n1. Ensure the app has been run at least once\n2. Try removing and re-adding the widget\n3. For development, use the \"Debug > Trigger WidgetKit Reload\" menu in Xcode\n\n## API Configuration\n\n### National Weather Service (NWS) API\n\nThe app is configured to use the NWS API by default, which:\n- Requires no API key\n- Provides detailed weather data for US locations\n- Has usage limitations and rate limits\n\n### OpenWeather API (Alternative)\n\nTo use OpenWeather instead:\n\n1. Sign up for an API key at [OpenWeather](https://openweathermap.org/api)\n2. Add your API key to the server's `.env` file\n3. Update the server configuration to use OpenWeather:\n   ```\n   WEATHER_API_TYPE=openweather\n   WEATHER_API_URL=https://api.openweathermap.org\n   OPENWEATHER_API_KEY=your_api_key_here\n   ```\n4. Restart the backend server\n\n## Further Customization\n\n### UI Theming\n\nTo update the app's appearance:\n\n1. Modify colors and styles in the SwiftUI views\n2. Update or add assets in the Assets.xcassets catalog\n3. For dark mode support, use Color(.systemBackground) and similar dynamic colors\n\n### Adding Features\n\nTo add new features:\n\n1. Follow the MVVM architecture pattern\n2. Add new models in the Models directory\n3. Update or create new ViewModels as needed\n4. Implement UI components in the Views directory\n\n## Deployment\n\n### App Store Submission\n\n1. Update app icons and launch screen\n2. Configure your backend server for production\n3. Update the bundle identifier to your own\n4. Create an App Store Connect entry\n5. Archive and upload using Xcode\n\nFor more information, refer to the [App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/).